<header>
  <nav class="nav" id="nav">
    <div class="navContainer">
      <a class="logo" href="/products/1">
        <img src="/img/nodejs.png" alt="Node.JS" />
      </a>
      <div class="menu">
        <a href="/products/1" data-url="home" {{#if navHome}} class="menu active" {{else}} class="menu" {{/if}}
          ><span></span>Home</a
        >
        <a href="/apidocs" data-url="docs" class="menu"
          ><span></span>Docs</a
        >
        {{#if roleAdmin}}
          <a href="/realTimeProducts" data-url="products" {{#if navProducts}} class="menu active" {{else}} class="menu" {{/if}}>
            <span></span>Products</a>
          <a href="/realTimeCarts" data-url="cartss" {{#if navCarts}} class="menu active" {{else}} class="menu" {{/if}}>
            <span></span>Carts</a>
          <a href="/realTimeUsers" data-url="userss" {{#if navUser}} class="menu active" {{else}} class="menu" {{/if}}>
            <span></span>Users</a>
        {{else}}
        {{/if}}
        <a href="#contacto" data-url="contacto" class="menu"
          ><span></span>Contact</a
        >
        <a href="#" id="carrito"
          ><ion-icon class="shop-nav" name="cart-outline"></ion-icon>
          <div 
            id="popupCart" 
            class="cant-carrito-total" 
            {{#if emptyCart}} {{else}} style="opacity: 1" {{/if}}>
            <p>{{countCart}}</p>
          </div
        ></a>
      </div>
      <div class="burger">
        <a href="#" id="carrito_xs"
          ><ion-icon name="cart-outline"></ion-icon>
          <div
            id="popupCartXs"
            class="cant-carrito-total-xs" 
            {{#if emptyCart}} {{else}} style="opacity: 1" {{/if}}>
            <p>{{countCart}}</p>
          </div>
        </a>
        <button class="hamburger">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
    </div>
  </nav>
  <nav class="nav-mobile" id="nav-mobile">
    <div class="nav-mobile-container">
      <a class="nav-mobile-item" href="/products/1"><p>Home</p></a>
      <a class="nav-mobile-item" href="/apidocs"><p>Docs</p></a>
      {{#if roleAdmin}}
        <a class="nav-mobile-item" href="/realTimeProducts"><p>Products</p></a>
        <a class="nav-mobile-item" href="/realTimeCarts"><p>Carts</p></a>
        <a class="nav-mobile-item" href="/realTimeUsers"><p>Users</p></a>
      {{else}}
      {{/if}}
      <a class="nav-mobile-item" href="#contacto"><p>Contact</p></a>
    </div>
  </nav>
  <div class="modal-carrito" id="modal-carrito">
    <div class="modal-container">
      <h3 class="modal-title">Carrito</h3>
      <ion-icon
        class="close-carrito"
        id="close-carrito"
        name="close-outline"
      ></ion-icon>
      <!--Contenedor del Carrito-->
      <div class="conten-carrito">
        <ul class="cardPrevius" id="cardPrevius">
          {{#if emptyCart}}
            <div class="preloader">
            	<svg class="cart" role="img" aria-label="Shopping cart line animation" viewBox="0 0 128 128" width="128px" height="128px" xmlns="http://www.w3.org/2000/svg">
            		<g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="8">
            			<g class="cart__track" stroke="hsla(0,10%,10%,0.1)">
            				<polyline points="4,4 21,4 26,22 124,22 112,64 35,64 39,80 106,80" />
            				<circle cx="43" cy="111" r="13" />
            				<circle cx="102" cy="111" r="13" />
            			</g>
            			<g class="cart__lines" stroke="currentColor">
            				<polyline class="cart__top" points="4,4 21,4 26,22 124,22 112,64 35,64 39,80 106,80" stroke-dasharray="338 338" stroke-dashoffset="-338" />
            				<g class="cart__wheel1" transform="rotate(-90,43,111)">
            					<circle class="cart__wheel-stroke" cx="43" cy="111" r="13" stroke-dasharray="81.68 81.68" stroke-dashoffset="81.68" />
            				</g>
            				<g class="cart__wheel2" transform="rotate(90,102,111)">
            					<circle class="cart__wheel-stroke" cx="102" cy="111" r="13" stroke-dasharray="81.68 81.68" stroke-dashoffset="81.68" />
            				</g>
            			</g>
            		</g>
            	</svg>
            	<div class="preloader__text">
            		<p class="preloader__msg">Empty Cart</p>
            	</div>
            </div>
          {{else}}
            {{#each cartsProducts}}
              <li class="cardPreviusItems">
                 <div class="img-info">
                  <img
                    alt={{this.title}}
                    class="imgCartPrevius"
                    src={{this.thumbnail}}
                  ></img>
                  <div class="infoPrevius">
                    <p class="infoTitle">{{this.title}}</p>
                    <p class="infoCant">
                      <strong>{{this.quantity}} </strong>x<strong> {{this.price}}</strong>
                    </p>
                    <div class="infoFin">
                      <p class="fin">
                        <strong>12</strong> pagos con
                      </p>
                      <img class="visa" src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Visa_Logo.png/640px-Visa_Logo.png" alt="Visa"></img>
                    </div>
                  </div>
                </div>
                <div class="delete-price">
                  <div class="cartDelete" id="cartDelete" data-id={{this.id}}>
                    <span class="icon">
	                  	<span class="lid"></span>
	                  	<span class="can"></span>
	                  	<span class="trash"></span>
	                  </span>
                    {{!-- <ion-icon name="trash-outline"></ion-icon> --}}
                  </div>
                  <div class="price-conten">
                    <p>$</p>
                    <p class="price">{{this.totalPrice}}</p>
                  </div>
                </div>
              </li>
            {{/each}}
          {{/if}}
        </ul>
      </div>
      <div class="total-carrito" id="sectionTotal" {{#if emptyCart}} style="display:none" {{else}} {{/if}}>
        <p class="total-text">Total Carrito:</p>
          <div class="price-conten">
            <p>$</p>
            <p class="price" id="totalCart">{{totalCart}}</p>
          </div>
      </div>
      <div class="buttons-carrito" id="sectionButtons" {{#if emptyCart}} style="display:none" {{else}} {{/if}}>
        <button class="vaciar" id="vaciar-carrito">
          <ion-icon
            class="button-icon"
            name="close-circle-outline"
          ></ion-icon>
          <p class="button-text">Vaciar</p>
        </button>
        <button class="comprar" id="comprar">
          <a class="purchaser-link" id="purchaser-link" href={{purchaserCart}}>
            <ion-icon class="button-icon" name="card-outline"></ion-icon>
            <p class="button-text">Comprar</p>
          </a>
        </button>
      </div>
    </div>
  </div>
</header>